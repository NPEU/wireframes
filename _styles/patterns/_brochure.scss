/*
    The `height: 100%;` in the `.brochure` class below allows the brochure to fill it's container (if inside,
    say, a list-grid). However, it doesn't work in Safari OSX/iOS.
    Applying a `brochure-wrap` class to a list item to make those items flex-containers seems to work
    OK, but perhaps this would be better abstracted as a `fill-height` class or something?
*/

$brochure--base-color: #eee !default;

// brochure outer:

$brochure--text-color: #333 !default;
$brochure--background-color: $brochure--base-color !default;

$brochure--border-or-outline: 'outline' !default;
$brochure--border-width:  1px !default;
$brochure--border-style:  solid  !default;
$brochure--border-radius: 0  !default;
$brochure--border-color:  darken($brochure--background-color, 10%) !default;


$brochure-breakpoint: 30em !default;
$brochure-pull: 5rem !default;


// brochure body:

$brochure-body--text-color: $brochure--text-color !default;
$brochure-body--background-color: $brochure--background-color !default;

$brochure-title--text-color: $brochure--text-color !default;
$brochure-title--background-color: $brochure--background-color !default;


$brochure--padding: 0 !default;


/*
$brochure-cta--border-width: 1px !default;
$brochure-cta--border-style: solid !default;
$brochure-cta--border-radius: 3px !default;
*/
$brochure-body--padding: 2rem !default;
$brochure-body--margin-left:   0 !default;
$brochure-body--margin-right:  0 !default;
$brochure-body--margin-top:    0 !default;
$brochure-body--margin-bottom: 0 !default;

$brochure-body--pull-over: 0 !default;


// brochure title:
$brochure-title--font-size: 3rem !default;


$module-breakpoint: 30em;

// brochure text links:
/*
$brochure--link-color: false !default;
$brochure--link-color--alt: false !default;
$brochure--link-has-border-bottom: false !default;
$brochure--link-border-bottom: false !default;
$brochure--link-border-bottom--alt: false !default;

// If we've specified a link color for the brochure, but not an alt state (e.g. hover)
// then generate one
@if $brochure--link-color != false and $brochure--link-color--alt == false {
    $brochure--link-color--alt: darken($brochure--link-color, 10%) !default;;
}

// If we've specified a link color for the brochure, and we want bottom borders, generate the borders:
@if $brochure--link-color != false and $brochure--link-has-border-bottom != false {
    $brochure--link-border-bottom: 1px solid lighten($brochure--link-color, 20%) !default;
    $brochure--link-border-bottom--alt: 2px solid lighten($brochure--link-color--alt, 30%) !default;
}
*/
// brochure buttons:
/*
$brochure-button--text-color: #fff !default;
$brochure-button--background-color: $brochure--base-color !default;
$brochure-button--background-color-alt: lighten($brochure--base-color, 20%) !default;
$brochure-button--border-color: darken($brochure--base-color, 20%) !default;
*/
/*.brochure-wrap {


}

    .brochure-wrap .brochure {

        //width: 100%;
    }
*/
    .brochure.brochure {

        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;

        -webkit-flex-direction: row;
            -ms-flex-direction: row;
                flex-direction: row;
                
        flex-wrap: wrap;

        //height: 100%;
        //width: 100%;

        color: $brochure--text-color;
        background: $brochure--background-color;
        padding: $brochure--padding;


        @if $brochure--border-or-outline == 'outline' {
            outline: $brochure--border-width $brochure--border-style $brochure--border-color;
        }

        @if $brochure--border-or-outline == 'border' {
            border-color:  $brochure--border-color;
            border-style:  $brochure--border-style;
            border-width:  $brochure--border-width;
            border-radius: $brochure--border-radius;
        }

        /*max-width: 20em;*/
        /*margin-top: 0 auto;
        margin-bottom: 1.5rem;
        margin-left: auto;
        margin-right: auto;*/

        /*
            If the 'pull' is > module body content height, it'll protrude below the container,
            so hide it:
        */
        overflow: hidden;
    }

        .brochure > * {
            -webkit-flex: 1 0 auto;
                -ms-flex: 1 0 auto;
                    flex: 1 0 auto;
                    
            min-width: 50%;
            width: calc((#{$module-breakpoint} - 100%) * 1000);
            max-width: 100%;
        }

        .brochure .brochure__image {
            position: relative;
            text-align: center;
        }

            .brochure .brochure__image img {
                width: 100%;
            }


            .brochure .brochure__image-link,
            .brochure .brochure__image-link:hover {
                border-bottom: 0;
            }




        .brochure .brochure__body {
            /*color: $brochure-body--text-color;
            background: $brochure-body--background-color;

            margin-left: $brochure-body--margin-left;
            margin-right: $brochure-body--margin-right;
            margin-top: $brochure-body--margin-top;
            margin-bottom: $brochure-body--margin-bottom;
            padding: $brochure-body--padding;
            //padding: $brochure-body--padding $brochure-body--padding 0 $brochure-body--padding;

            -webkit-flex: 1 0 auto;
                -ms-flex: 1 0 auto;
                    flex: 1 0 auto;
                    */
	
            /*&::after {
                content: "";
                display: block;
                margin-top: $brochure-body--padding;
                margin-bottom: -1px;
                height: 1px;
            }*/
        }

        /*.brochure .brochure__image + .brochure__body--pull-over {
            position: relative;
            z-index: 1;
            margin-top: $brochure-body--pull-over;
        }


            .brochure .brochure__title {
                font-size: $brochure-title--font-size;
            }*/

            /*
            @if $brochure--link-color != false {
                .brochure .brochure__body a {
                    color: $brochure--link-color;
                    @if $brochure--link-has-border-bottom != false {
                        border-bottom: $brochure--link-border-bottom;
                    }
                }

                .brochure .brochure__body a:hover,
                .brochure .brochure__body a:active,
                .brochure .brochure__body a:focus {
                    color: $brochure--link-color--alt;
                    @if $brochure--link-has-border-bottom != false {
                        border-bottom: $brochure--link-border-bottom--alt;
                    }
                }
            }
            */



        /*.brochure .brochure__footer {
            margin-left: $brochure-body--margin-left;
            margin-right: $brochure-body--margin-right;
            margin-top: 0;
            margin-bottom: 0;
            padding: 0 $brochure-body--padding $brochure-body--padding $brochure-body--padding;
        }
        
        
            .brochure .brochure__footer > * {
                margin: 0;           
            }*/

            /*
            .brochure a.brochure__cta {
                display: inline-block;

                color: $brochure--text-color;
                background-color: $brochure--background-color;

                font-size: inherit;
                font-family: inherit;
                font-style: inherit;
                font-weight: inherit;
                min-height: 3rem;
                line-height: 2.4rem;
                margin: 0.3rem 0;
                text-transform: none;

                cursor: pointer;

                border-color:  $brochure--border-color;
                border-style:  $brochure-cta--border-style;
                border-width:  $brochure-cta--border-width;
                border-radius: $brochure-cta--border-radius;

                padding-top: 0.3rem;
                padding-top: -moz-calc(0);
                padding-top: calc(0.3rem - 1px);
                padding-bottom: 0.3rem;
                padding-bottom: -moz-calc(0);
                padding-bottom: calc(0.3rem - 1px);
                padding-left: 0.6rem;
                padding-right: 0.6rem;
                vertical-align: middle;

                -ms-touch-action: manipulation;
                touch-action: manipulation;


                &:hover,
                &:active,
                &:focus {
                    color: $brochure--text-color;
                }
            }

            .brochure button.brochure__cta {
                @include button(
                    $brochure-button--text-color,
                    $brochure-button--background-color,
                    $brochure-button--background-color-alt,
                    $brochure-button--border-color
                );
            }
            */
